{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, resolveComponent as _resolveComponent, createVNode as _createVNode, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"space-y-8\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-md mx-auto p-6 bg-white rounded-lg shadow-md space-y-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_FileUpload = _resolveComponent(\"FileUpload\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[13] || (_cache[13] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-semibold text-gray-800\"\n  }, \"Create New Announcement\", -1 /* HOISTED */)), _createCommentVNode(\" Announcement Form \"), _createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.submitAnnouncement && $options.submitAnnouncement(...args), [\"prevent\"])),\n    class: \"space-y-4\"\n  }, [_createCommentVNode(\" Subject (Dropdown) \"), _createElementVNode(\"div\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"subject\",\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"Subject\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"subject\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.subject = $event),\n    class: \"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n  }, _cache[6] || (_cache[6] = [_createStaticVNode(\"<option value=\\\"\\\" disabled data-v-00fff4b4>Select a subject</option><option value=\\\"Delay of Garbage Pickup\\\" data-v-00fff4b4>Delay of Garbage Pickup</option><option value=\\\"No Pickup Schedule\\\" data-v-00fff4b4>No Pickup Schedule</option><option value=\\\"Schedule of Pickup\\\" data-v-00fff4b4>Schedule of Pickup</option><option value=\\\"Program\\\" data-v-00fff4b4>Program</option>\", 5)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.subject]])]), _createCommentVNode(\" Date and Time \"), _createElementVNode(\"div\", null, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"dateTime\",\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"Date and Time\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"datetime-local\",\n    id: \"dateTime\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.dateTime = $event),\n    class: \"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.dateTime]])]), _createCommentVNode(\" Route \"), _createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"route\",\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"Route\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"route\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.route = $event),\n    placeholder: \"Enter the route\",\n    class: \"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.route]])]), _createCommentVNode(\" Context \"), _createElementVNode(\"div\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"context\",\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"Context\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"context\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.context = $event),\n    rows: \"4\",\n    placeholder: \"Enter the context of the announcement\",\n    class: \"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.context]])]), _createCommentVNode(\" Photo Upload \"), _createElementVNode(\"div\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    for: \"photo\",\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"Photo\", -1 /* HOISTED */)), _createVNode(_component_FileUpload, {\n    id: \"photo\",\n    modelValue: $data.photo,\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.photo = $event),\n    chooseLabel: \"Choose a photo\",\n    accept: \"image/*\",\n    class: \"w-full\"\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), _createCommentVNode(\" Submit Button \"), _cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n    class: \"flex justify-center\"\n  }, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"w-full py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\n  }, \" Submit \")], -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","onSubmit","_cache","_withModifiers","args","$options","submitAnnouncement","for","id","$event","$data","subject","_createStaticVNode","type","dateTime","route","placeholder","context","rows","_createVNode","_component_FileUpload","modelValue","photo","chooseLabel","accept"],"sources":["C:\\Users\\darle\\solid-waste-management-system\\src\\components\\AnnouncementPage.vue"],"sourcesContent":["  <template>\r\n    <div class=\"space-y-8\">\r\n      <div class=\"max-w-md mx-auto p-6 bg-white rounded-lg shadow-md space-y-4\">\r\n        <h2 class=\"text-xl font-semibold text-gray-800\">Create New Announcement</h2>\r\n\r\n        <!-- Announcement Form -->\r\n        <form @submit.prevent=\"submitAnnouncement\" class=\"space-y-4\">\r\n          <!-- Subject (Dropdown) -->\r\n          <div>\r\n            <label for=\"subject\" class=\"block text-sm font-medium text-gray-700 mb-1\">Subject</label>\r\n            <select\r\n              id=\"subject\"\r\n              v-model=\"subject\"\r\n              class=\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\r\n            >\r\n              <option value=\"\" disabled>Select a subject</option>\r\n              <option value=\"Delay of Garbage Pickup\">Delay of Garbage Pickup</option>\r\n              <option value=\"No Pickup Schedule\">No Pickup Schedule</option>\r\n              <option value=\"Schedule of Pickup\">Schedule of Pickup</option>\r\n              <option value=\"Program\">Program</option>\r\n            </select>\r\n          </div>\r\n\r\n          <!-- Date and Time -->\r\n          <div>\r\n            <label for=\"dateTime\" class=\"block text-sm font-medium text-gray-700 mb-1\">Date and Time</label>\r\n            <input\r\n              type=\"datetime-local\"\r\n              id=\"dateTime\"\r\n              v-model=\"dateTime\"\r\n              class=\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\r\n            />\r\n          </div>\r\n\r\n          <!-- Route -->\r\n          <div>\r\n            <label for=\"route\" class=\"block text-sm font-medium text-gray-700 mb-1\">Route</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"route\"\r\n              v-model=\"route\"\r\n              placeholder=\"Enter the route\"\r\n              class=\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\r\n            />\r\n          </div>\r\n\r\n          <!-- Context -->\r\n          <div>\r\n            <label for=\"context\" class=\"block text-sm font-medium text-gray-700 mb-1\">Context</label>\r\n            <textarea\r\n              id=\"context\"\r\n              v-model=\"context\"\r\n              rows=\"4\"\r\n              placeholder=\"Enter the context of the announcement\"\r\n              class=\"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\r\n            />\r\n          </div>\r\n\r\n          <!-- Photo Upload -->\r\n          <div>\r\n            <label for=\"photo\" class=\"block text-sm font-medium text-gray-700 mb-1\">Photo</label>\r\n            <FileUpload\r\n              id=\"photo\"\r\n              v-model=\"photo\"\r\n              chooseLabel=\"Choose a photo\"\r\n              accept=\"image/*\"\r\n              class=\"w-full\"\r\n            />\r\n          </div>\r\n\r\n          <!-- Submit Button -->\r\n          <div class=\"flex justify-center\">\r\n            <button\r\n              type=\"submit\"\r\n              class=\"w-full py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm\"\r\n            >\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </template>\r\n\r\n  <script>\r\n  import axios from \"axios\";\r\n\r\n  export default {\r\n    name: 'AnnouncementPage',\r\n    data() {\r\n      return {\r\n        subject: '',\r\n        dateTime: null, // For date and time selection\r\n        route: '',\r\n        context: '',\r\n        photo: null,\r\n      };\r\n    },\r\n    methods: {\r\n      // submitAnnouncement() {\r\n      //   const announcementData = {\r\n      //     subject: this.subject,\r\n      //     dateTime: this.dateTime,\r\n      //     route: this.route,\r\n      //     context: this.context,\r\n      //     photo: this.photo,\r\n      //   };\r\n\r\n        \r\n\r\n      //   console.log('Announcement submitted: ', announcementData);\r\n\r\n      //   // Reset the form\r\n      //   this.subject = '';\r\n      //   this.dateTime = null;\r\n      //   this.route = '';\r\n      //   this.context = '';\r\n      //   this.photo = null;\r\n      // },\r\n      async submitAnnouncement() {\r\n        console.log('Selected Photo:', this.photo.filename);  // Log photo to check\r\n        const formData = new FormData();\r\n\r\n        formData.append('subject', this.subject);\r\n        formData.append('dateTime', this.dateTime);\r\n        formData.append('route', this.route);\r\n        formData.append('context', this.context);\r\n\r\n        // Check if photo is selected\r\n        if (this.photo) {\r\n          console.log('Photo file:', this.photo); // Debugging line to check the file object\r\n          formData.append('photo', this.photo); // Send the photo file to the backend\r\n        } else {\r\n          console.log('No photo selected');\r\n        }\r\n\r\n        try {\r\n          const response = await axios.post('http://127.0.0.1:8000/api/announcements', formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data',\r\n              Authorization: `Bearer ${localStorage.getItem('auth_token')}`,\r\n            },\r\n          });\r\n          console.log('Announcement created:', response.data);\r\n          \r\n          // Optionally reset the form after submission\r\n          this.subject = '';\r\n          this.dateTime = null;\r\n          this.route = '';\r\n          this.context = '';\r\n          this.photo = null;\r\n        } catch (error) {\r\n          console.error('Error creating announcement:', error);\r\n        }\r\n      }\r\n\r\n    },\r\n  };\r\n  </script>\r\n\r\n  <style scoped>\r\n  /* Add any custom styles if needed */\r\n  </style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}