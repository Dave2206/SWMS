{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport { removeClass, addClass } from '@primeuix/utils/dom';\nimport BaseDirective from '@primevue/core/basedirective';\nimport AnimateOnScrollStyle from 'primevue/animateonscroll/style';\nvar BaseAnimateOnScroll = BaseDirective.extend({\n  style: AnimateOnScrollStyle\n});\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) ;else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nvar AnimateOnScroll = BaseAnimateOnScroll.extend('animateonscroll', {\n  created: function created() {\n    this.$value = this.$value || {};\n    this.$el.style.opacity = this.$value.enterClass ? '0' : '';\n  },\n  mounted: function mounted() {\n    this.$el.setAttribute('data-pd-animateonscroll', true);\n    this.bindIntersectionObserver();\n  },\n  unmounted: function unmounted() {\n    this.unbindAnimationEvents();\n    this.unbindIntersectionObserver();\n  },\n  observer: undefined,\n  resetObserver: undefined,\n  isObserverActive: false,\n  animationState: undefined,\n  animationEndListener: undefined,\n  methods: {\n    bindAnimationEvents: function bindAnimationEvents() {\n      var _this = this;\n      if (!this.animationEndListener) {\n        this.animationEndListener = function () {\n          removeClass(_this.$el, [_this.$value.enterClass, _this.$value.leaveClass]);\n          !_this.$modifiers.once && _this.resetObserver.observe(_this.$el);\n          _this.unbindAnimationEvents();\n        };\n        this.$el.addEventListener('animationend', this.animationEndListener);\n      }\n    },\n    bindIntersectionObserver: function bindIntersectionObserver() {\n      var _this2 = this;\n      var _this$$value = this.$value,\n        root = _this$$value.root,\n        rootMargin = _this$$value.rootMargin,\n        _this$$value$threshol = _this$$value.threshold,\n        threshold = _this$$value$threshol === void 0 ? 0.5 : _this$$value$threshol;\n      var options = {\n        root: root,\n        rootMargin: rootMargin,\n        threshold: threshold\n      };\n\n      // States\n      this.observer = new IntersectionObserver(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 1),\n          entry = _ref2[0];\n        if (_this2.isObserverActive) {\n          if (entry.boundingClientRect.top > 0) {\n            entry.isIntersecting ? _this2.enter() : _this2.leave();\n          }\n        } else if (entry.isIntersecting) {\n          _this2.enter();\n        }\n        _this2.isObserverActive = true;\n      }, options);\n      setTimeout(function () {\n        return _this2.observer.observe(_this2.$el);\n      }, 0);\n\n      // Reset\n      this.resetObserver = new IntersectionObserver(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 1),\n          entry = _ref4[0];\n        if (entry.boundingClientRect.top > 0 && !entry.isIntersecting) {\n          _this2.$el.style.opacity = _this2.$value.enterClass ? '0' : '';\n          removeClass(_this2.$el, [_this2.$value.enterClass, _this2.$value.leaveClass]);\n          _this2.resetObserver.unobserve(_this2.$el);\n        }\n        _this2.animationState = undefined;\n      }, _objectSpread(_objectSpread({}, options), {}, {\n        threshold: 0\n      }));\n    },\n    enter: function enter() {\n      if (this.animationState !== 'enter' && this.$value.enterClass) {\n        this.$el.style.opacity = '';\n        removeClass(this.$el, this.$value.leaveClass);\n        addClass(this.$el, this.$value.enterClass);\n        this.$modifiers.once && this.unbindIntersectionObserver(this.$el);\n        this.bindAnimationEvents();\n        this.animationState = 'enter';\n      }\n    },\n    leave: function leave() {\n      if (this.animationState !== 'leave' && this.$value.leaveClass) {\n        this.$el.style.opacity = this.$value.enterClass ? '0' : '';\n        removeClass(this.$el, this.$value.enterClass);\n        addClass(this.$el, this.$value.leaveClass);\n        this.bindAnimationEvents();\n        this.animationState = 'leave';\n      }\n    },\n    unbindAnimationEvents: function unbindAnimationEvents() {\n      if (this.animationEndListener) {\n        this.$el.removeEventListener('animationend', this.animationEndListener);\n        this.animationEndListener = undefined;\n      }\n    },\n    unbindIntersectionObserver: function unbindIntersectionObserver() {\n      var _this$observer, _this$resetObserver;\n      (_this$observer = this.observer) === null || _this$observer === void 0 || _this$observer.unobserve(this.$el);\n      (_this$resetObserver = this.resetObserver) === null || _this$resetObserver === void 0 || _this$resetObserver.unobserve(this.$el);\n      this.isObserverActive = false;\n    }\n  }\n});\nexport { AnimateOnScroll as default };","map":{"version":3,"names":["BaseAnimateOnScroll","BaseDirective","extend","style","AnimateOnScrollStyle","AnimateOnScroll","created","$value","$el","opacity","enterClass","mounted","setAttribute","bindIntersectionObserver","unmounted","unbindAnimationEvents","unbindIntersectionObserver","observer","undefined","resetObserver","isObserverActive","animationState","animationEndListener","methods","bindAnimationEvents","_this","removeClass","leaveClass","$modifiers","once","observe","addEventListener","_this2","_this$$value","root","rootMargin","_this$$value$threshol","threshold","options","IntersectionObserver","_ref","_ref2","_slicedToArray","entry","boundingClientRect","top","isIntersecting","enter","leave","setTimeout","_ref3","_ref4","unobserve","_objectSpread","addClass","removeEventListener","_this$observer","_this$resetObserver"],"sources":["../../src/animateonscroll/BaseAnimateOnScroll.js","../../src/animateonscroll/AnimateOnScroll.js"],"sourcesContent":["import BaseDirective from '@primevue/core/basedirective';\nimport AnimateOnScrollStyle from 'primevue/animateonscroll/style';\n\nconst BaseAnimateOnScroll = BaseDirective.extend({\n    style: AnimateOnScrollStyle\n});\n\nexport default BaseAnimateOnScroll;\n","import { addClass, removeClass } from '@primeuix/utils/dom';\nimport BaseAnimateOnScroll from './BaseAnimateOnScroll';\n\nconst AnimateOnScroll = BaseAnimateOnScroll.extend('animateonscroll', {\n    created() {\n        this.$value = this.$value || {};\n        this.$el.style.opacity = this.$value.enterClass ? '0' : '';\n    },\n    mounted() {\n        this.$el.setAttribute('data-pd-animateonscroll', true);\n\n        this.bindIntersectionObserver();\n    },\n    unmounted() {\n        this.unbindAnimationEvents();\n        this.unbindIntersectionObserver();\n    },\n    observer: undefined,\n    resetObserver: undefined,\n    isObserverActive: false,\n    animationState: undefined,\n    animationEndListener: undefined,\n    methods: {\n        bindAnimationEvents() {\n            if (!this.animationEndListener) {\n                this.animationEndListener = () => {\n                    removeClass(this.$el, [this.$value.enterClass, this.$value.leaveClass]);\n                    !this.$modifiers.once && this.resetObserver.observe(this.$el);\n                    this.unbindAnimationEvents();\n                };\n\n                this.$el.addEventListener('animationend', this.animationEndListener);\n            }\n        },\n        bindIntersectionObserver() {\n            const { root, rootMargin, threshold = 0.5 } = this.$value;\n            const options = { root, rootMargin, threshold };\n\n            // States\n            this.observer = new IntersectionObserver(([entry]) => {\n                if (this.isObserverActive) {\n                    if (entry.boundingClientRect.top > 0) {\n                        entry.isIntersecting ? this.enter() : this.leave();\n                    }\n                } else if (entry.isIntersecting) {\n                    this.enter();\n                }\n\n                this.isObserverActive = true;\n            }, options);\n\n            setTimeout(() => this.observer.observe(this.$el), 0);\n\n            // Reset\n            this.resetObserver = new IntersectionObserver(\n                ([entry]) => {\n                    if (entry.boundingClientRect.top > 0 && !entry.isIntersecting) {\n                        this.$el.style.opacity = this.$value.enterClass ? '0' : '';\n                        removeClass(this.$el, [this.$value.enterClass, this.$value.leaveClass]);\n\n                        this.resetObserver.unobserve(this.$el);\n                    }\n\n                    this.animationState = undefined;\n                },\n                { ...options, threshold: 0 }\n            );\n        },\n        enter() {\n            if (this.animationState !== 'enter' && this.$value.enterClass) {\n                this.$el.style.opacity = '';\n                removeClass(this.$el, this.$value.leaveClass);\n                addClass(this.$el, this.$value.enterClass);\n\n                this.$modifiers.once && this.unbindIntersectionObserver(this.$el);\n\n                this.bindAnimationEvents();\n                this.animationState = 'enter';\n            }\n        },\n        leave() {\n            if (this.animationState !== 'leave' && this.$value.leaveClass) {\n                this.$el.style.opacity = this.$value.enterClass ? '0' : '';\n                removeClass(this.$el, this.$value.enterClass);\n                addClass(this.$el, this.$value.leaveClass);\n\n                this.bindAnimationEvents();\n                this.animationState = 'leave';\n            }\n        },\n        unbindAnimationEvents() {\n            if (this.animationEndListener) {\n                this.$el.removeEventListener('animationend', this.animationEndListener);\n                this.animationEndListener = undefined;\n            }\n        },\n        unbindIntersectionObserver() {\n            this.observer?.unobserve(this.$el);\n            this.resetObserver?.unobserve(this.$el);\n            this.isObserverActive = false;\n        }\n    }\n});\n\nexport default AnimateOnScroll;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}